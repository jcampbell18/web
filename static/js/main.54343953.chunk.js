(this["webpackJsonpinavig8-admin"]=this["webpackJsonpinavig8-admin"]||[]).push([[0],{111:function(e,t,a){},135:function(e,t,a){e.exports=a(290)},140:function(e,t,a){},21:function(e){e.exports=JSON.parse('{"api":{"invokeUrl":"https://6ifyh4p4z2.execute-api.us-west-2.amazonaws.com/dev","headers":{"Content-Type":"application/json","x-api-key":"Il5Hx547OB3VWglNlnYM35XJL4sv1ok57bJakZav","Authorization":"dummy"}},"cognito":{"REGION":"us-west-2","USER_POOL_ID":"us-west-2_x1nV7VStG","APP_CLIENT_ID":"7qismhftk1ehili7a4qp9cc5el"}}')},215:function(e,t,a){},268:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){},274:function(e,t,a){},275:function(e,t,a){},276:function(e,t,a){},277:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(42),l=a(132),c=a(46),s=a(7),i=a(8),d=a(10),u=a(9),m=a(11),h=(a(140),a(49)),g=a(14);g.i.configure({Auth:{region:"us-west-2",identityPoolRegion:"us-west-2",userPoolId:"us-west-2_x1nV7VStG4",userPoolWebClientId:"7qismhftk1ehili7a4qp9cc5el",authenticationFlowType:"USER_PASSWORD_AUTH"}});var b=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).usernameRef=o.a.createRef(),a.passwordRef=o.a.createRef(),a.onSubmit=function(e){e.preventDefault();var t={username:a.usernameRef.current.value,password:a.passwordRef.current.value},n=t.username,o=t.password;h.a.signIn({username:n,password:o,validationData:{}}).then((function(e){return console.log("user:... ",e),a.props.onLogin(e)})).catch((function(e){return console.log(e)})),e.currentTarget.reset()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-login"},o.a.createElement("main",{className:"main-login"},o.a.createElement("section",{className:"login-box1"},o.a.createElement("h2",null,"sign in to iNavig8"),o.a.createElement("img",{id:"lg-login-icon",src:"./img/icons/Login-Icon.png",alt:"Login Icon",title:"Login Icon"}),o.a.createElement("form",{className:"",onSubmit:this.onSubmit},o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/username-icon.png",alt:"username-icon"}),o.a.createElement("input",{type:"text",id:"username",name:"username",placeholder:"username",ref:this.usernameRef})),o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/password-icon.png",alt:"password-icon"}),o.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"password",ref:this.passwordRef})),o.a.createElement("p",null,o.a.createElement("a",{href:"/forgot"},"forgot password?")),o.a.createElement("p",null,o.a.createElement("a",{href:"/register"},"create an account")),o.a.createElement("input",{type:"submit",className:"button",value:"sign in"}))),o.a.createElement("section",{className:"title-box1"},o.a.createElement("h3",null,"indoor"),o.a.createElement("h3",null,"navigation"),o.a.createElement("h3",null,"system"),o.a.createElement("img",{src:"./img/icons/location-icon.png",alt:"Location Icon",title:"Location Icon"}))))}}]),t}(o.a.Component),p=(a(111),function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-notLoggedIn"},o.a.createElement("main",{className:"main-notLoggedIn"},o.a.createElement("section",{className:"title-box-right2"},o.a.createElement("h3",null,"indoor"),o.a.createElement("h3",null,"navigation"),o.a.createElement("h3",null,"system"),o.a.createElement("img",{src:"./img/icons/location-icon.png",alt:"Location Icon",title:"Location Icon"})),o.a.createElement("section",{className:"input-box-area2"},o.a.createElement("h2",null,"forgot password"),o.a.createElement("img",{id:"lg-login-icon",src:"./img/icons/Login-Icon.png",alt:"Login Icon",title:"Login Icon"}),o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/username-icon.png",alt:"username-icon"}),o.a.createElement("input",{type:"email",id:"email",placeholder:"email"})),o.a.createElement("input",{type:"button",className:"button",value:"send"}),o.a.createElement("p",{className:"link-signin"},o.a.createElement("a",{href:"/"},"I remember my password!")))))}}]),t}(o.a.Component)),E=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-notLoggedIn"},o.a.createElement("main",{className:"main-notLoggedIn"},o.a.createElement("section",{className:"title-box-right2"},o.a.createElement("h3",null,"indoor"),o.a.createElement("h3",null,"navigation"),o.a.createElement("h3",null,"system"),o.a.createElement("img",{src:"./img/icons/location-icon.png",alt:"Location Icon",title:"Location Icon"})),o.a.createElement("section",{className:"input-box-area2"},o.a.createElement("h2",null,"reset password"),o.a.createElement("img",{id:"lg-login-icon",src:"./img/icons/Login-Icon.png",alt:"Login Icon",title:"Login Icon"}),o.a.createElement("div",{className:"login-area on-right"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/password-icon.png",alt:"password-icon"}),o.a.createElement("input",{type:"password",id:"password",placeholder:"password"})),o.a.createElement("div",{className:"login-area on-right"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/password-icon.png",alt:"password-icon"}),o.a.createElement("input",{type:"password",id:"confirm-password",placeholder:"confirm password"})),o.a.createElement("input",{type:"button",className:"button",value:"reset"}))))}}]),t}(o.a.Component),M=a(90),j=a.n(M),y=a(26),f=a(124),_=(a(215),a(21));function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}g.i.configure({Auth:{region:"us-west-2",identityPoolRegion:"us-west-2",userPoolId:"us-west-2_x1nV7VStG4",userPoolWebClientId:"7qismhftk1ehili7a4qp9cc5el"}});h.a.configure();var D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",email:"",password:"",confirmpassword:"",errors:{cognito:null,blankfield:!1,passwordmatch:!1}},a.clearErrorState=function(){a.setState({errors:{cognito:null,blankfield:!1,passwordmatch:!1}})},a.handleSubmit=function(){var e=Object(f.a)(j.a.mark((function e(t){var n,o,r,l,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,o=n.username,r=n.email,l=n.password,e.prev=2,e.next=5,h.a.signUp({username:o,password:l,attributes:{email:r,name:"first last"}});case 5:c=e.sent,a.props.history.push("/"),console.log(c),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),s=null,s=e.t0.message?e.t0:{message:e.t0},a.setState({errors:v({},a.state.errors,{cognito:s})});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),a.onInputChange=function(e){a.setState(Object(y.a)({},e.target.id,e.target.value)),document.getElementById(e.target.id).classList.remove("is-danger")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-login"},o.a.createElement("main",{className:"main-login"},o.a.createElement("section",{className:"login-box1"},o.a.createElement("h2",null,"register with iNavig8"),o.a.createElement("img",{id:"lg-login-icon",src:"./img/icons/Login-Icon.png",alt:"Login Icon",title:"Login Icon"}),o.a.createElement("form",{className:"",onSubmit:this.handleSubmit},o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/username-icon.png",alt:"username-icon"}),o.a.createElement("input",{type:"text",id:"username","aria-describedby":"userNameHelp",placeholder:"username",value:this.state.username,onChange:this.onInputChange})),o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/username-icon.png",alt:"username-icon"}),o.a.createElement("input",{type:"email",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:this.state.email,onChange:this.onInputChange})),o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/password-icon.png",alt:"password-icon"}),o.a.createElement("input",{type:"password",id:"password",placeholder:"password",value:this.state.password,onChange:this.onInputChange})),o.a.createElement("div",{className:"login-area"},o.a.createElement("img",{className:"login-icons",src:"./img/icons/password-icon.png",alt:"password-icon"}),o.a.createElement("input",{type:"password",id:"confirmpassword",placeholder:"confirm password",value:this.state.confirmpassword,onChange:this.onInputChange})),o.a.createElement("p",null,o.a.createElement("a",{href:"/login"},"I know my login")),o.a.createElement("input",{type:"submit",className:"button",value:"sign in"}))),o.a.createElement("section",{className:"title-box1"},o.a.createElement("h3",null,"indoor"),o.a.createElement("h3",null,"navigation"),o.a.createElement("h3",null,"system"),o.a.createElement("img",{src:"./img/icons/location-icon.png",alt:"Location Icon",title:"Location Icon"}))))}}]),t}(n.Component),w=a(62),C=(a(112),a(299)),S=a(298),x=a(126),k=a(73),I=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"header"},o.a.createElement(C.a,{bg:"light",variant:"light"},o.a.createElement(C.a.Brand,{href:"/"},o.a.createElement("img",{alt:"",src:"/logo.png",width:"50",height:"40",className:"d-inline-block align-middle"})," ","iNavig8"),o.a.createElement(S.a,{inline:!0},o.a.createElement(x.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),o.a.createElement(k.a,{variant:"outline-success"},"Search"))))}}]),t}(o.a.Component),N=a(36),L=a(297),U=a(292),P=a(293),T=a(76),G=a(89),A=a.n(G),F=a(2),B=a(13),R=a(12),H=a.n(R);var V=function(e){var t=H()(e.img),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.background_offset,y:0,scaleX:.9,scaleY:.9,image:a})};a(268);var z=function(e){return e.connections.map((function(t){return o.a.createElement(F.Line,{key:t,points:[t.v1.x,t.v1.y,t.v2.x,t.v2.y],tension:.5,stroke:"red",x:250,y:250,handleClick:e.handleClick})}))},Y="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/square.png"),X=function(e){var t=H()(Y),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.02,scaleY:.02,short_name:"generic",object_type_id:3,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var J=function(e){return e.objects.map((function(t){return t.object_type&&"generic"===t.object_type.short_name&&o.a.createElement(X,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},q=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,radius:3,object_id:e.object_id,name:e.name,fill:"black",short_name:"path",object_type_id:1,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var W=function(e){return e.objects.map((function(t){return t.object_type&&"path"===t.object_type.short_name&&o.a.createElement(q,{key:t.object_id,object_id:t.object_id,x:t.image_x,y:t.image_y,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))};var Z=function(e){return e.objects.map((function(t){return t.object_type&&"door"===t.object_type.short_name&&o.a.createElement(F.Star,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,numPoints:5,innerRadius:5,outerRadius:10,fill:"#cccccc",opacity:.8,draggable:!0,rotation:180*Math.random(),shadowColor:"black",shadowBlur:10,shadowOpacity:.6,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},$="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/elevator.png"),K=function(e){var t=H()($),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"elevator",object_type_id:6,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var Q=function(e){return e.objects.map((function(t){return t.object_type&&"elevator"===t.object_type.short_name&&o.a.createElement(K,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},ee="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/stairs.png"),te=function(e){var t=H()(ee),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"stairs",object_type_id:7,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var ae=function(e){return e.objects.map((function(t){return t.object_type&&"stairs"===t.object_type.short_name&&o.a.createElement(te,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},ne="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/coffee.png"),oe=function(e){var t=H()(ne),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,object_type_id:8,scaleX:.04,scaleY:.04,short_name:"coffee",draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var re=function(e){return e.objects.map((function(t){return t.object_type&&"coffee"===t.object_type.short_name&&o.a.createElement(oe,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,handleClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut})}))},le="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/utensils.png"),ce=function(e){var t=H()(le),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"utensils",object_type_id:9,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var se=function(e){return e.objects.map((function(t){return t.object_type&&"utensils"===t.object_type.short_name&&o.a.createElement(ce,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},ie="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/restroom.png"),de=function(e){var t=H()(ie),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"restroom",object_type_id:10,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var ue=function(e){return e.objects.map((function(t){return t.object_type&&"restroom"===t.object_type.short_name&&o.a.createElement(de,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},me="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/male.png"),he=function(e){var t=H()(me),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"male",object_type_id:11,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var ge=function(e){return e.objects.map((function(t){return t.object_type&&"male"===t.object_type.short_name&&o.a.createElement(he,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},be="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/female.png"),pe=function(e){var t=H()(be),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"female",object_type_id:12,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var Ee=function(e){return e.objects.map((function(t){return t.object_type&&"female"===t.object_type.short_name&&o.a.createElement(pe,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},Me="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/heartbeat.png"),je=function(e){var t=H()(Me),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"heartbeat",object_type_id:13,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var ye=function(e){return e.objects.map((function(t){return t.object_type&&"heartbeat"===t.object_type.short_name&&o.a.createElement(je,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},fe="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/recycle.png"),_e=function(e){var t=H()(fe),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"recycle",object_type_id:14,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var Oe=function(e){return e.objects.map((function(t){return t.object_type&&"recycle"===t.object_type.short_name&&o.a.createElement(_e,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},ve="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/fire-extinguisher.png"),De=function(e){var t=H()(ve),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"fire extinguisher",object_type_id:15,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var we=function(e){return e.objects.map((function(t){return t.object_type&&"fire extinguisher"===t.object_type.short_name&&o.a.createElement(De,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},Ce="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/map-marker.png"),Se=function(e){var t=H()(Ce),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"map marker",object_type_id:16,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var xe=function(e){return e.objects.map((function(t){return t.object_type&&"map marker"===t.object_type.short_name&&o.a.createElement(Se,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},ke="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/door-open.png"),Ie=function(e){var t=H()(ke),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"door open",object_type_id:18,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var Ne=function(e){return e.objects.map((function(t){return t.object_type&&"door open"===t.object_type.short_name&&o.a.createElement(Ie,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},Le="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/door-closed.png"),Ue=function(e){var t=H()(Le),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"door closed",object_type_id:19,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})};var Pe=function(e){return e.objects.map((function(t){return t.object_type&&"door closed"===t.object_type.short_name&&o.a.createElement(Ue,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,handleClick:e.handleClick})}))},Te=function(e){return o.a.createElement(F.Rect,{x:e.x,y:e.y,object_id:e.object_id,width:14,height:14,name:e.name,fill:"red",short_name:"red square",object_type_id:20,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowOffset:{x:1,y:1},shadowBlur:1})};var Ge=function(e){return e.objects.map((function(t){return t.object_type&&"red square"===t.object_type.short_name&&o.a.createElement(Te,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragRectStart,onDragEnd:e.handleDragRectEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowOffset:{x:1,y:1},shadowBlur:1,handleClick:e.handleClick})}))},Ae=function(e){return o.a.createElement(F.Rect,{x:e.x,y:e.y,object_id:e.object_id,width:14,height:14,name:e.name,fill:"lightgrey",short_name:"grey square",object_type_id:21,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowOffset:{x:1,y:1},shadowBlur:1})};var Fe=function(e){return e.objects.map((function(t){return t.object_type&&"grey square"===t.object_type.short_name&&o.a.createElement(Ae,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragRectStart,onDragEnd:e.handleDragRectEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowOffset:{x:1,y:1},shadowBlur:1,handleClick:e.handleClick})}))},Be=function(e){return o.a.createElement(F.Rect,{x:e.x,y:e.y,object_id:e.object_id,width:14,height:14,name:e.name,fill:"green",short_name:"green square",object_type_id:22,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowOffset:{x:1,y:1},shadowBlur:1})};var Re=function(e){return e.objects.map((function(t){return t.object_type&&"green square"===t.object_type.short_name&&o.a.createElement(Be,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragRectStart,onDragEnd:e.handleDragRectEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowOffset:{x:1,y:1},shadowBlur:1,handleClick:e.handleClick})}))},He=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,object_id:e.object_id,radius:3,name:e.name,fill:"red",short_name:"red circle sm",object_type_id:27,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var Ve=function(e){return e.objects.map((function(t){return t.object_type&&"red circle sm"===t.object_type.short_name&&o.a.createElement(He,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))},ze=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,object_id:e.object_id,radius:3,name:e.name,fill:"lightgrey",short_name:"grey circle sm",object_type_id:26,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var Ye=function(e){return e.objects.map((function(t){return t.object_type&&"grey circle sm"===t.object_type.short_name&&o.a.createElement(ze,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))},Xe=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,object_id:e.object_id,radius:3,name:e.name,fill:"green",short_name:"green circle sm",object_type_id:23,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var Je=function(e){return e.objects.map((function(t){return t.object_type&&"green circle sm"===t.object_type.short_name&&o.a.createElement(Xe,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))},qe=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,object_id:e.object_id,radius:7,name:e.name,fill:"red",short_name:"red circle lg",object_type_id:28,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var We=function(e){return e.objects.map((function(t){return t.object_type&&"red circle lg"===t.object_type.short_name&&o.a.createElement(qe,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))},Ze=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,object_id:e.object_id,radius:7,name:e.name,fill:"lightgrey",short_name:"grey circle lg",object_type_id:25,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var $e=function(e){return e.objects.map((function(t){return t.object_type&&"grey circle lg"===t.object_type.short_name&&o.a.createElement(Ze,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))},Ke=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,object_id:e.object_id,radius:7,name:e.name,fill:"green",short_name:"green circle lg",object_type_id:24,draggable:!0,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})};var Qe=function(e){return e.objects.map((function(t){return t.object_type&&"green circle lg"===t.object_type.short_name&&o.a.createElement(Ke,{key:t.object_id,x:t.image_x,y:t.image_y,object_id:t.object_id,name:t.name,onDragStart:e.handleDragCircStart,onDragEnd:e.handleDragCircEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1,handleClick:e.handleClick})}))},et="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/image-regular.png"),tt=function(e){var t=H()(et),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,short_name:"image regular",object_type_id:10,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:e.handleClick,image:a})},at="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/pencil-alt.png"),nt=function(e){var t=H()(at),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:function(e){console.log("pencil clicked")},image:a})},ot="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/redo-alt.png"),rt=function(e){var t=H()(ot),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:function(e){console.log("rotate cw")},image:a})},lt=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,radius:3,object_id:e.object_id,name:e.name,fill:"white",stroke:"black",short_name:"location_primary",object_type_id:4,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})},ct="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/undo-alt.png"),st=function(e){var t=H()(ct),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:function(e){console.log("rotate ccw")},image:a})},it=function(e){return o.a.createElement(F.Circle,{x:e.x,y:e.y,radius:3,object_id:e.object_id,name:e.name,fill:"white",stroke:"lightgrey",short_name:"location_secondary",object_type_id:5,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onClick:e.handleClick,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,shadowBlur:1})},dt="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/plus.png"),ut=function(e){var t=H()(dt),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:function(e){console.log("zoom in ",e.target)},image:a})},mt="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/minus.png"),ht=function(e){var t=H()(mt),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:function(e){console.log("zoom out ",e.target)},image:a})},gt="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/hand-paper.png"),bt=function(e){var t=H()(gt),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:function(e){console.log("pan mode clicked",e.target)},image:a})},pt="https://inav-icons-e64a0b92-4062-44d4-8660-a911f2743bd5.s3-us-west-2.amazonaws.com".concat("/draw-polygon.png"),Et=function(e){var t=H()(pt),a=Object(B.a)(t,1)[0];return o.a.createElement(F.Image,{x:e.x,y:e.y,object_id:e.object_id,scaleX:.04,scaleY:.04,draggable:!0,onDragStart:e.handleDragImageStart,onDragEnd:e.handleDragImageEnd,onMouseMove:e.onMouseMove,onMouseOut:e.onMouseOut,onClick:function(e){console.log("draw polygon clicked")},image:a})},Mt=function(e){return o.a.createElement(F.Label,{x:180,y:180},o.a.createElement(F.Text,{fontFamily:"Calibri",fontSize:14,lineHeight:1.2,padding:10,textFill:"white",alpha:.75,fill:"green",visible:!0}))};function jt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var yt,ft,_t,Ot,vt,Dt=window.innerWidth,wt=window.innerHeight,Ct=4,St=[25,60,95],xt=[50,90,130,170,210,250,290,330,370,410,450,490,530,570,610,650],kt=0,It=0,Nt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){console.log("clicked."),console.log("handleClick in Graphics.js, object_id",e.currentTarget.attrs.object_id);var t=a.props.objects.filter((function(t){return t.object_id===e.currentTarget.attrs.object_id}));console.log("curObj right before setState: ",t),a.setState((function(e){return{currentObjectG:t[0]}})),console.log("currentObjectG after setState: ",a.state.currentObjectG.object_id),a.props.handleShowModalG(!0)},a.handleMouseMove=function(e){console.log("handleMouseMove (mouse move): ",e),yt=e.target.getStage(),yt.getPointerPosition(),console.log("mouse move - object id: ",e.target.attrs.object_id," ",e.target.attrs.short_name)},a.handleMouseOut=function(e){e.target.getStage().draw(),console.log("mouse out - object id: ",e.target.attrs.object_id," ",e.target.attrs.short_name)},a.handleDragImageStart=function(e){console.log("drag image start: ",e),kt=e.target.attrs.x,It=e.target.attrs.y,e.target.setAttrs({shadowOffset:{x:Ct,y:Ct}})},a.handleDragImageEnd=function(e){console.log("drag image end: ",e),console.log(kt," ",It);var t=e.target.getStage().getPointerPosition();console.table({x:t.x,y:t.y}),console.log("new - objects length before add is ",a.props.objects.length),console.log("target is: ",e.target),console.log("location id: "+a.props.location_id),console.log("short name: "+e.target.attrs.short_name),console.log("object type id: "+e.target.attrs.object_type_id);var n=Math.round(t.x),o=Math.round(t.y),r=JSON.stringify({location_id:a.props.location_id,short_name:e.target.attrs.short_name,long_name:"a",description:"a",object_type_id:e.target.attrs.object_type_id,x_coordinate:1,y_coordinate:1,image_x:n,image_y:o});a.props.handleNewObject(r),e.target.position({x:kt,y:It}),e.target.to({duration:.2,easing:A.a.Easings.ElasticEaseOut,shadowOffsetX:0,shadowOffsetY:0}),e.target.getStage().draw()},a.onClose=function(){console.log("closing modal show - ",a.props.showModalG),a.props.handleShowModalG(!1)},a.onOpen=function(){console.log("opening modal show - ",a.props.showModalG),a.props.handleShowModalG(!0)},a.onUpdate=function(){console.log("Graphics.js onUpdate - description: ",a.state.currentObjectG.description);var e=JSON.stringify({object_id:a.state.currentObjectG.object_id,location_id:a.state.currentObjectG.location_id,short_name:a.state.currentObjectG.short_name,long_name:a.state.currentObjectG.long_name,description:a.state.currentObjectG.description,object_type_id:a.state.currentObjectG.object_type_id,x_coordinate:0,y_coordinate:0,image_x:a.state.currentObjectG.image_x,image_y:a.state.currentObjectG.image_y});a.props.handleUpdateObject(e),a.onClose()},a.onDelete=function(e){a.props.handleDeleteObject(e),console.log("deleted from Graphics.js! id: ",e),a.onClose()},a.onChange=function(e){console.log("currentTarget: ",e.currentTarget.name),console.log("currentValue: ",e.currentTarget.value);var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state.currentObjectG,Object(y.a)({},e.currentTarget.name,e.currentTarget.value));console.log("onChange currentObjectG before setState: ",t),a.setState({currentObjectG:t}),console.log("Graphics.js onChange object: ",t),console.log("Graphics.js onChange object from state: ",a.state.currentObjectG)},a.onShowConnections=function(e){console.log("showing connections in Graphics.js, location id "+a.props.location_id);var t=_.api.headers,n=_.api.invokeUrl+"/edges/location/"+a.props.location_id;fetch(n,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){a.getPrimarySecondary(),a.setState({connections:e.body.data}),a.scaleConnections2Canvas(),console.log("list of connections: ",a.state.connections)}))},a.onDeleteConnection=function(e){console.log("deleting connection from obj: ",e)},a.onAddConnection=function(e){console.log("adding connection to obj: ",e)},a.getPrimarySecondary=function(){ft=a.props.objects.find((function(e){return"primary"===e.short_name})),_t=a.props.objects.find((function(e){return"secondary"===e.short_name})),Ot=(_t.x_coordinate-ft.x_coordinate)/(_t.image_x-ft.image_x),vt=(_t.y_coordinate-ft.y_coordinate)/(_t.image_y-ft.image_y)},a.scaleConnections2Canvas=function(){var e=a.state.connections;e.map((function(e){return console.log("v1 object_id: ",e.v1.object_id),console.log("v2 object_id: ",e.v2.object_id),console.log("before"),console.log("edge v1: "+e.v1.x+" "+e.v1.y),console.log("edge v2: "+e.v2.x+" "+e.v2.y),console.log("after"),e.v1.x=Math.round(e.v1.x*(1/Ot)+ft.image_x),e.v1.y=Math.round(e.v1.y*(1/vt)+ft.image_y),e.v2.x=Math.round(e.v2.x*(1/Ot)+ft.image_x),e.v2.y=Math.round(e.v2.y*(1/vt)+ft.image_y),console.log("edge v1: "+e.v1.x+" "+e.v1.y),console.log("edge v2: "+e.v2.x+" "+e.v2.y)})),a.setState({connections:e}),console.log("after conversion: ",a.state.connections)},a.state={connections:[],currentObjectG:{object_id:0,location_id:0,short_name:"",long_name:"",description:"",object_type:"",x_coordinate:0,y_coordinate:0,image_x:0,image_y:0}},a.handleDragImageStart=a.handleDragImageStart.bind(Object(N.a)(a)),a.handleDragImageEnd=a.handleDragImageEnd.bind(Object(N.a)(a)),a.handleMouseMove=a.handleMouseMove.bind(Object(N.a)(a)),a.handleMouseOut=a.handleMouseOut.bind(Object(N.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("graphics mount")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"graphics"},o.a.createElement(F.Stage,{width:Dt,height:wt},o.a.createElement(F.Layer,{name:"background"},this.props.location.map((function(e){return o.a.createElement(V,{key:e.location_id,img:e.canvas_image,background_offset:150})}))),o.a.createElement(F.Layer,{name:"main"},o.a.createElement(F.Rect,{x:10,y:30,width:120,height:650,fill:"white",stroke:"lightgrey"}),o.a.createElement(He,{x:St[0]+7,y:xt[0]+7}),o.a.createElement(He,{x:St[0]+7,y:xt[0]+7,name:"CircRdSm",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(ze,{x:St[1]+7,y:xt[0]+7}),o.a.createElement(ze,{x:St[1]+7,y:xt[0]+7,name:"CircGrySm",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Xe,{x:St[2]+7,y:xt[0]+7}),o.a.createElement(Xe,{x:St[2]+7,y:xt[0]+7,name:"CircGrnSm",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(qe,{x:St[0]+7,y:xt[1]+7}),o.a.createElement(qe,{x:St[0]+7,y:xt[1]+7,name:"CircRdLg",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Ze,{x:St[1]+7,y:xt[1]+7}),o.a.createElement(Ze,{x:St[1]+7,y:xt[1]+7,name:"CircGryLg",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Ke,{x:St[2]+7,y:xt[1]+7}),o.a.createElement(Ke,{x:St[2]+7,y:xt[1]+7,name:"CircGrnLg",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Te,{x:St[0],y:xt[2]}),o.a.createElement(Te,{x:St[0],y:xt[2],name:"Rect2",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Ae,{x:St[1],y:xt[2]}),o.a.createElement(Ae,{x:St[1],y:xt[2],name:"Rect2",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Be,{x:St[2],y:xt[2]}),o.a.createElement(Be,{x:St[2],y:xt[2],name:"Rect2",handleDragStart:this.handleDragImageStart,handleDragEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(de,{x:St[0],y:xt[3]}),o.a.createElement(de,{x:St[0],y:xt[3],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(he,{x:St[1]+7,y:xt[3]}),o.a.createElement(he,{x:St[1]+7,y:xt[3],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(pe,{x:St[2]+7,y:xt[3]}),o.a.createElement(pe,{x:St[2]+7,y:xt[3],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(oe,{x:St[0],y:xt[4]}),o.a.createElement(oe,{x:St[0],y:xt[4],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(ce,{x:St[1],y:xt[4]}),o.a.createElement(ce,{x:St[1],y:xt[4],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Ie,{x:St[0],y:xt[5]}),o.a.createElement(Ie,{x:St[0],y:xt[5],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Ue,{x:St[1],y:xt[5]}),o.a.createElement(Ue,{x:St[1],y:xt[5],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(te,{x:St[0],y:xt[6]}),o.a.createElement(te,{x:St[0],y:xt[6],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(K,{x:St[1],y:xt[6]}),o.a.createElement(K,{x:St[1],y:xt[6],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(je,{x:St[0],y:xt[7]}),o.a.createElement(je,{x:St[0],y:xt[7],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(_e,{x:St[0],y:xt[8]}),o.a.createElement(_e,{x:St[0],y:xt[8],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(De,{x:St[0],y:xt[9]}),o.a.createElement(De,{x:St[0],y:xt[9],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Se,{x:St[0],y:xt[10]}),o.a.createElement(Se,{x:St[0],y:xt[10],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(tt,{x:St[0],y:xt[11]}),o.a.createElement(tt,{x:St[0],y:xt[11],handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(X,{x:St[0]+5,y:xt[12]+5}),o.a.createElement(X,{x:St[0]+5,y:xt[12]+5,handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(q,{x:St[1]+9,y:xt[12]+9}),o.a.createElement(q,{x:St[1]+9,y:xt[12]+9,handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(nt,{x:St[0],y:xt[13],onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(Et,{x:St[1],y:xt[13],onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(lt,{x:St[2]+9,y:xt[13]+9}),o.a.createElement(lt,{x:St[2]+9,y:xt[13]+9,handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(rt,{x:St[0],y:xt[14],onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(st,{x:St[1],y:xt[14],onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(it,{x:St[2]+9,y:xt[14]+9}),o.a.createElement(it,{x:St[2]+9,y:xt[14]+9,handleDragImageStart:this.handleDragImageStart,handleDragImageEnd:this.handleDragImageEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(ut,{x:St[0],y:xt[15],onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(ht,{x:St[1],y:xt[15]+6,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(bt,{x:St[2],y:xt[15],onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(J,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(W,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Z,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Q,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(ae,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(re,{objects:this.props.objects,handleClick:this.handleClick,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),o.a.createElement(se,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(ue,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(ge,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Ee,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(ye,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Oe,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(we,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(xe,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Ne,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Pe,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Ge,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Fe,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Re,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(We,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement($e,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Qe,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Ve,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Ye,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(Je,{objects:this.props.objects,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,handleClick:this.handleClick}),o.a.createElement(z,{connections:this.state.connections,handleClick:this.handleClick})),o.a.createElement(F.Layer,null,o.a.createElement(Mt,null))),o.a.createElement(L.a,{show:this.props.showModalG,onHide:this.onClose},o.a.createElement(L.a.Header,{closeButton:!0},o.a.createElement(L.a.Title,null,"Object ID: ",this.state.currentObjectG.object_id)),o.a.createElement(L.a.Body,null,o.a.createElement("label",{htmlFor:"short_name"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Short Name")),o.a.createElement(x.a,{"aria-label":"short_name","aria-describedby":"basic-addon1",name:"short_name",defaultValue:this.state.currentObjectG.short_name,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"long_name"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Long Name")),o.a.createElement(x.a,{placeholder:"enter long name","aria-label":"long_name","aria-describedby":"basic-addon1",name:"long_name",defaultValue:this.state.currentObjectG.long_name,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"description"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Description")),o.a.createElement(x.a,{placeholder:"no description","aria-label":"description","aria-describedby":"basic-addon1",name:"description",defaultValue:this.state.currentObjectG.description,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"image_x"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Image Location X")),o.a.createElement(x.a,{placeholder:"no x-coordinate","aria-label":"image_x","aria-describedby":"basic-addon1",name:"image_x",defaultValue:this.state.currentObjectG.image_x,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"image_y"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Image Location Y")),o.a.createElement(x.a,{placeholder:"no y-coordinate","aria-label":"image_y","aria-describedby":"basic-addon1",name:"image_y",defaultValue:this.state.currentObjectG.image_y,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"location_id"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Location ID")),o.a.createElement(x.a,{"aria-label":"location_id","aria-describedby":"basic-addon1",name:"location_id",defaultValue:this.state.currentObjectG.location_id,readOnly:"readonly"}))),o.a.createElement("hr",null),o.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onDelete(e.state.currentObjectG.object_id)}},"Delete"),o.a.createElement(P.a,{variant:"info",id:"dropdown-basic-button",title:"Connections"},o.a.createElement(T.a.Item,{href:"#",onClick:function(){return e.onAddConnection(e.state.currentObjectG.object_id)}},"Add connection"),o.a.createElement(T.a.Item,{href:"#",onClick:function(){return e.onDeleteConnection(e.state.currentObjectG.object_id)}},"Delete connection"),o.a.createElement(T.a.Item,{href:"#",onClick:function(){return e.onShowConnections()}},"Show all connections"))),o.a.createElement(L.a.Footer,null,o.a.createElement(k.a,{onClick:this.onClose},"Close"),o.a.createElement(k.a,{onClick:this.onUpdate},"Update"))))}}]),t}(o.a.Component);a(270);function Lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ut(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Lt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Pt=function(e){function t(){var e,a;t(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=t(d.a)(this,(e=t(u.a)(t)).call.apply(e,[this].concat(o)))).state={showModal:!1,currentIndex:a.props.id,currentObject:a.props.details},a.onClose=function(){a.setState({showModal:!1})},a.onOpen=function(){a.setState({showModal:!0})},a.onUpdate=function(){var e=JSON.stringify({object_id:a.state.currentObject.object_id,location_id:a.state.currentObject.location_id,short_name:a.state.currentObject.short_name,long_name:a.state.currentObject.long_name,description:a.state.currentObject.description,object_type_id:a.state.currentObject.object_type_id,x_coordinate:0,y_coordinate:0,image_x:a.state.currentObject.image_x,image_y:a.state.currentObject.image_y});a.props.handleUpdateObject(a.state.currentIndex,e),a.onClose()},a.onDelete=function(e){a.props.handleDeleteObject(e),a.onClose()},a.onChange=function(e){var n=Ut({},a.state.currentObject,t(y.a)({},e.currentTarget.name,e.currentTarget.value));a.setState({currentObject:n})},a}return t(m.a)(t,e),t(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.currentObject,a=t.object_id,n=t.short_name,r=t.image_x,l=t.image_y,c=t.location_id;return console.log("Obj.js's this.props.details",this.props.details),console.log("Obj.js's  this.state.currentObject",this.state.currentObject),console.log("Obj.js's  this.state.currentIndex",this.state.currentIndex),o.a.createElement("div",null,o.a.createElement("ul",{className:"object-list"},o.a.createElement("li",null,n," (id: ",a,")"),o.a.createElement("li",null,o.a.createElement(k.a,{variant:"primary",size:"sm",onClick:this.onOpen},"details"))),o.a.createElement(L.a,{show:this.state.showModal,onHide:this.onClose},o.a.createElement(L.a.Header,{closeButton:!0},o.a.createElement(L.a.Title,null,"Object ID: ",a)),o.a.createElement(L.a.Body,null,o.a.createElement("label",{htmlFor:"short_name"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Short Name")),o.a.createElement(x.a,{"aria-label":"short_name","aria-describedby":"basic-addon1",name:"short_name",defaultValue:n,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"long_name"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Long Name")),o.a.createElement(x.a,{placeholder:"enter long name","aria-label":"long_name","aria-describedby":"basic-addon1",name:"long_name",defaultValue:this.state.currentObject.long_name,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"description"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Description")),o.a.createElement(x.a,{placeholder:"no description","aria-label":"description","aria-describedby":"basic-addon1",name:"description",defaultValue:this.state.currentObject.description,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"image_x"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Image Location X")),o.a.createElement(x.a,{placeholder:"no x-coordinate","aria-label":"image_x","aria-describedby":"basic-addon1",name:"image_x",defaultValue:r,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"image_y"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Image Location Y")),o.a.createElement(x.a,{placeholder:"no y-coordinate","aria-label":"image_y","aria-describedby":"basic-addon1",name:"image_y",defaultValue:l,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"location_id"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Location ID")),o.a.createElement(x.a,{"aria-label":"location_id","aria-describedby":"basic-addon1",name:"location_id",defaultValue:c,readOnly:"readonly"}))),o.a.createElement("hr",null),o.a.createElement(k.a,{variant:"danger",onClick:function(){return e.onDelete(a)}},"Delete")),o.a.createElement(L.a.Footer,null,o.a.createElement(k.a,{onClick:this.onClose},"Close"),o.a.createElement(k.a,{onClick:this.onUpdate},"Update"))))}}]),t}(o.a.Component),Tt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isActive:!1},a.handleUpdateObject=function(e,t,n){a.props.handleUpdateObject(e,t,n),console.log("updated from Data.js! raw : ",n)},a.handleDeleteObject=function(e){a.props.handleDeleteObject(e),console.log("deleted from Data.js! id: ",e)},a.handleShow=function(){a.setState({isActive:!0})},a.handleHide=function(){a.setState({isActive:!1})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.objects,a=this.props.location;return this.state.isActive?o.a.createElement("div",{id:"dataArea1"},o.a.createElement("div",{className:"top-button"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleHide},"hide data")),Object.keys(t).map((function(n){return o.a.createElement(Pt,{key:n,id:n,details:t[n],currentIndex:e.state.currentIndex,currentObject:e.state.currentObject,handleCurrentIndex:e.handleCurrentIndex,location_id:a.location_id,handleDeleteObject:e.handleDeleteObject,handleUpdateObject:e.handleUpdateObject})})),console.log("objects in object keys: ",this.state)):o.a.createElement("div",{id:"dataArea2"},o.a.createElement("div",{className:"top-button"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.handleShow},"show data")))}}]),t}(o.a.Component),Gt=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"footer"},o.a.createElement("p",null,"Footer component is here!"))}}]),t}(o.a.Component),At=a(294),Ft=a(295),Bt=a(127);a(271);function Rt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Rt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Vt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={showModalG:!1,showModalStart:!1,showModalSetScale:!1,primaryObject:{object_id:0,location_id:0,short_name:"",long_name:"",description:"",object_type:"",x_coordinate:1,y_coordinate:1,image_x:0,image_y:0},secondaryObject:{object_id:0,location_id:0,short_name:"",long_name:"",description:"",object_type:"",x_coordinate:1,y_coordinate:1,image_x:0,image_y:0},location:[],objects:[]},a.handleShowModalStart=function(e){console.log("status in Graphics.js............................: ",e),a.setState({showModalStart:e}),console.log("showModalStart: ",a.state.showModalStart)},a.onCloseModalStart=function(){console.log("closing modal show - ",a.state.showModalStart),a.handleShowModalStart(!1)},a.onClose=function(){console.log("closing setScale modal show - ",a.state.showModalSetScale),a.handleShowModalSetScale(!1)},a.onOpen=function(){console.log("opening setScale modal show - ",a.state.showModalSetScale),a.handleShowModalSetScale(!0)},a.onChange=function(e){console.log("currentTarget: ",e.currentTarget.name),console.log("currentValue: ",e.currentTarget.value);var t=Ht({},a.state.primaryObject,Object(y.a)({},e.currentTarget.name,e.currentTarget.value));console.log("onChange primaryObject before setState: ",t),a.setState({primaryObject:t}),console.log("Graphics.js onChange object: ",t),console.log("Graphics.js onChange object from state: ",a.state.primaryObject)},a.onChangeSec=function(e){console.log("currentTarget: ",e.currentTarget.name),console.log("currentValue: ",e.currentTarget.value);var t=Ht({},a.state.secondaryObject,Object(y.a)({},e.currentTarget.name,e.currentTarget.value));console.log("onChangeSec secondaryObject before setState: ",t),a.setState({secondaryObject:t}),console.log("Graphics.js onChangeSec object: ",t),console.log("Graphics.js onChangeSec object from state: ",a.state.secondaryObject)},a.onSetScale=function(){console.log("primaryObject: ",a.state.primaryObject),console.log("Design.js onUpdate - description: ",a.state.primaryObject.description);var e=JSON.stringify({object_id:a.state.primaryObject.object_id,location_id:a.state.primaryObject.location_id,short_name:a.state.primaryObject.short_name,long_name:a.state.primaryObject.long_name,description:a.state.primaryObject.description,object_type_id:a.state.primaryObject.object_type_id,x_coordinate:1,y_coordinate:1,latitude:a.state.primaryObject.latitude_pri,longitude:a.state.primaryObject.longitude_pri,image_x:a.state.primaryObject.image_x,image_y:a.state.primaryObject.image_y});console.log(JSON.parse(e)),console.log("object_id: ",JSON.parse(e).object_id),console.log("long_name: ",JSON.parse(e).long_name),console.log("description: ",JSON.parse(e).description);a.handleUpdateObject(e),e=JSON.stringify({object_id:a.state.secondaryObject.object_id,location_id:a.state.secondaryObject.location_id,short_name:a.state.secondaryObject.short_name,long_name:a.state.secondaryObject.long_name,description:a.state.secondaryObject.description,object_type_id:a.state.secondaryObject.object_type_id,x_coordinate:1,y_coordinate:1,latitude:a.state.secondaryObject.latitude_sec,longitude:a.state.secondaryObject.longitude_sec,image_x:a.state.secondaryObject.image_x,image_y:a.state.secondaryObject.image_y}),a.handleUpdateObject(e),a.handleSetScale(),a.onClose()},a.handleShowModalSetScale=function(e){console.log("ShowModalSetScale status in Design.js............................: ",e),a.setState({showModalSetScale:e})},a.handleShowModalG=function(e){console.log("status in Design.js............................: ",e),a.setState({showModalG:e})},a.handleDeleteObject=function(e){console.log("deleting object in Design.js, object id "+e);var t=_.api.headers,n=_.api.invokeUrl+"/object/delete/"+e;fetch(n,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){console.log("deleted object from Design.js",t),a.setState((function(t){return{objects:t.objects.filter((function(t){return t.object_id!==e}))}})),console.log("list of objects after setting state: ",a.state.objects)}))},a.handleNewObject=function(e){var t=_.api.headers;console.log("raw: ",e);var n=_.api.invokeUrl+"/object/new";fetch(n,{method:"POST",headers:t,body:e}).then((function(e){return e.json()})).then((function(e){console.log("result: ",e),a.setState({objects:[].concat(Object(w.a)(a.state.objects),[Ht({},e.body.data[0])])})}))},a.handleUpdateObject=function(e){console.log("handleUpdateObject in Design.js = ",e),a.setState((function(t){return{objects:t.objects.filter((function(t){return t.object_id!==JSON.parse(e).object_id}))}}));var t=_.api.headers,n=_.api.invokeUrl+"/object/update";fetch(n,{method:"POST",headers:t,body:e}).then((function(e){return e.json()})).then((function(e){console.log("result: ",e),a.setState({objects:[].concat(Object(w.a)(a.state.objects),[Ht({},e.body.data[0])])}),console.log("after setState - Design.js result: ",a.state.objects)}))},a.handleSetScale=function(){console.log("handleSetScale in Design.js");var e=_.api.headers,t=_.api.invokeUrl+"/location/set-scale/"+a.props.match.params.location_id;fetch(t,{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){a.setState({}),console.log("after setState - Design.js result: ",a.state.objects)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("design mount");var t=_.api.headers,a=_.api.invokeUrl+"/location/"+this.props.match.params.location_id;fetch(a,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){e.setState({location:t.body.data}),console.log("location... ",t.body.data)}));var n=_.api.invokeUrl+"/objects/location/"+this.props.match.params.location_id;fetch(n,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){e.setState({objects:t.body.data}),console.log("JASON! objects: ",t.body.data),console.log("state: ",e.state);var a=e.state.objects.length;if(console.log("obs: ",a),a<2)e.handleShowModalStart(!0);else{var n=e.state.objects[0];console.log("priObj right before setState: ",n),e.setState((function(e){return{primaryObject:n}})),console.log("primaryObject after setState: ",e.state.primaryObject.object_id);var o=e.state.objects[1];console.log("secObj right before setState: ",o),e.setState((function(e){return{secondaryObject:o}})),console.log("secondaryObject after setState: ",e.state.secondaryObject.object_id),console.log("checking if primary and secondary are set...");var r=e.state.objects.find((function(e){return"location_primary"===e.short_name})),l=e.state.objects.find((function(e){return"location_secondary"===e.short_name})),c=!1;console.log("init scale set? ",c),console.log("foundPrimary: ",r),console.log("foundSecondary: ",l),null!=r&&null!=l&&(c=0===r.x_coordinate&&0===r.y_coordinate),console.log("scale set? ",c),r&&l&&c||e.handleShowModalSetScale(!0),console.log("renderModal: ",!1)}}));var o=localStorage.getItem(this.props.match.params.location_id);console.log("localStorageRef: ",o)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(At.a,{fluid:"true",className:"main"},o.a.createElement(Ft.a,null,o.a.createElement(Bt.a,{sm:12},o.a.createElement(I,{className:"header"}))),o.a.createElement(Ft.a,null,o.a.createElement(Bt.a,{sm:9},o.a.createElement(Nt,{location_id:this.props.match.params.location_id,className:"graphics",key:"1",objects:this.state.objects,details:this.state.objects[0],location:this.state.location,showModalG:this.state.showModalG,handleShowModalG:this.handleShowModalG,handleShowModalSetScale:this.handleShowModalSetScale,handleNewObject:this.handleNewObject,handleDeleteObject:this.handleDeleteObject,handleUpdateObject:this.handleUpdateObject})),o.a.createElement(Bt.a,{sm:3},o.a.createElement(Tt,{className:"data",key:this.props.match.params.location_id,objects:this.state.objects,location:this.state.location,handleDeleteObject:this.handleDeleteObject,handleUpdateObject:this.handleUpdateObject}))),o.a.createElement(Ft.a,null,o.a.createElement(Bt.a,{sm:12},o.a.createElement(Gt,{className:"footer"})))),o.a.createElement(L.a,{show:this.state.showModalStart,onHide:this.onCloseModalStart},o.a.createElement(L.a.Header,{closeButton:!0},o.a.createElement(L.a.Title,null,"Location Setup")),o.a.createElement(L.a.Body,null,o.a.createElement("ul",null,o.a.createElement("h6",null,"To enable a location, please: "),o.a.createElement("li",null,"Drag in a primary object"),o.a.createElement("li",null,"Drag in a secondary object"),o.a.createElement("li",null,"Refresh the page to begin"))),o.a.createElement(L.a.Footer,null,o.a.createElement(k.a,{variant:"secondary",onClick:this.onCloseModalStart},"Close"))),o.a.createElement(L.a,{show:this.state.showModalSetScale,onHide:this.onClose},o.a.createElement(L.a.Header,{closeButton:!0},o.a.createElement(L.a.Title,null,"Set Latitudes and Longitudes")),o.a.createElement(L.a.Body,null,o.a.createElement("label",{htmlFor:"location_id"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Location ID")),o.a.createElement(x.a,{"aria-label":"location_id","aria-describedby":"basic-addon1",name:"location_id",defaultValue:this.props.match.params.location_id,readOnly:"readonly"}))),o.a.createElement("label",{htmlFor:"latitude_pri"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Primary Latitude(decimal)")),o.a.createElement(x.a,{placeholder:"enter latitude","aria-label":"latitude_pri","aria-describedby":"basic-addon1",name:"latitude_pri",onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"longitude_pri"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Primary Longitude(decimal)")),o.a.createElement(x.a,{placeholder:"enter longitude","aria-label":"longitude_pri","aria-describedby":"basic-addon1",name:"longitude_pri",onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"latitude_sec"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Secondary Latitude(decimal)")),o.a.createElement(x.a,{placeholder:"enter latitude","aria-label":"latitude_sec","aria-describedby":"basic-addon1",name:"latitude_sec",onChange:this.onChangeSec}))),o.a.createElement("label",{htmlFor:"longitude_sec"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Secondary Longitude(decimal)")),o.a.createElement(x.a,{placeholder:"enter longitude","aria-label":"longitude_sec","aria-describedby":"basic-addon1",name:"longitude_sec",onChange:this.onChangeSec}))),o.a.createElement("hr",null)),o.a.createElement(L.a.Footer,null,o.a.createElement(k.a,{onClick:this.onClose},"Close"),o.a.createElement(k.a,{onClick:this.onSetScale},"Enter"))))}}]),t}(n.Component),zt=(a(272),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={image:null},a.handleLoad=function(){a.setState({image:a.image,image_width:a.image.width,image_height:a.image.height}),console.log("width2..."+a.image.width),console.log("height2..."+a.image.height)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadImage()}},{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&this.loadImage()}},{key:"componentWillUnmount",value:function(){this.image.removeEventListener("load",this.handleLoad)}},{key:"loadImage",value:function(){this.image=new window.Image,this.image.src=this.props.src,this.image.addEventListener("load",this.handleLoad)}},{key:"render",value:function(){return o.a.createElement(F.Image,{x:this.props.x,y:this.props.y,image:this.state.image,ref:function(e){return e&&console.log("width..."+e.offsetWidth)}})}}]),t}(o.a.Component)),Yt=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).state={location:[],objects:[]},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=_.api.headers,a=_.api.invokeUrl+"/location/"+this.props.match.params.location_id;fetch(a,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){e.setState({location:t.body.data}),console.log("location... ",t.body.data)}));var n=_.api.invokeUrl+"/objects/location/"+this.props.match.params.location_id;fetch(n,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){e.setState({objects:t.body.data}),console.log("objects... ",t.body.data)}))}},{key:"render",value:function(){var e=this;return o.a.createElement(F.Stage,{width:window.innerWidth,height:window.innerHeight},o.a.createElement(F.Layer,null,this.state.location.map((function(e){return o.a.createElement(zt,{src:e.canvas_image})})),this.state.objects.map((function(t){return o.a.createElement(F.Star,{key:t,x:t.image_x,y:window.innerHeight-t.image_y,numPoints:5,innerRadius:5,outerRadius:10,fill:"#89b717",opacity:.8,draggable:!0,rotation:180*Math.random(),shadowColor:"black",shadowBlur:10,shadowOpacity:.6,onDragStart:e.handleDragStart,onDragEnd:e.handleDragEnd})}))))}}]),t}(o.a.Component),Xt=(a(273),function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("section",{className:"logo-area"},o.a.createElement("h2",null,"iNavig8"),o.a.createElement("img",{src:"./img/iNavig8-logo.png",alt:"iNavig8 Logo",title:"iNavig8 Logo"}))}}]),t}(o.a.Component)),Jt=(a(274),a(275),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={showModal:!1},a.onClose=function(){a.setState({showModal:!1})},a.onOpen=function(){a.setState({showModal:!0})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.profile,t=e.username,a=e.email,n=e.first_name,r=e.last_name,l=e.role,c=new Date,s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c.getMonth()]+" "+c.getDate()+", "+c.getFullYear();return o.a.createElement("header",null,o.a.createElement("div",{className:"header-upper"},o.a.createElement("div",{className:"username-area",onClick:this.onOpen},o.a.createElement("h6",null,a),o.a.createElement("img",{src:"./img/icons/dropdown-icon.png",alt:"Profile",title:"Profile"})),o.a.createElement(L.a,{show:this.state.showModal,onHide:this.onClose},o.a.createElement(L.a.Header,{closeButton:!0},o.a.createElement(L.a.Title,null,"Admin User: ",t)),o.a.createElement(L.a.Body,null,o.a.createElement("label",{htmlFor:"first_name"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"First Name")),o.a.createElement(x.a,{"aria-label":"first_name","aria-describedby":"basic-addon1",name:"first_name",defaultValue:n,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"last_name"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Last Name")),o.a.createElement(x.a,{"aria-label":"last_name","aria-describedby":"basic-addon1",name:"last_name",defaultValue:r,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"email"},o.a.createElement(U.a,{className:"mb-3 wl-100"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Email")),o.a.createElement(x.a,{"aria-label":"email","aria-describedby":"basic-addon1",name:"email",defaultValue:a,onChange:this.onChange,bsPrefix:"input-field-size"}))),o.a.createElement("label",{htmlFor:"role"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Role")),o.a.createElement(x.a,{"aria-label":"role","aria-describedby":"basic-addon1",name:"role",defaultValue:l,onChange:this.onChange})))),o.a.createElement(L.a.Footer,null,o.a.createElement(k.a,{onClick:this.onClose},"Close")))),o.a.createElement("div",{className:"header-lower"},o.a.createElement("input",{type:"button",className:"button-date",value:s,readOnly:"readonly"})))}}]),t}(o.a.Component)),qt=(a(276),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).navButtonRef=o.a.createRef(),a.onLocations=function(e){e.preventDefault();a.props.onNavSelection("Locations")},a.onUsers=function(e){e.preventDefault();a.props.onNavSelection("Users")},a.onDashboard=function(e){e.preventDefault();a.props.onNavSelection("Dashboard")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("nav",null,o.a.createElement("a",{href:"/#",onClick:this.onDashboard},o.a.createElement("div",{id:"highlight-dashboard",className:"nav-area ".concat("Dashboard"===this.props.highlight?"highlight":"no-highlight")},o.a.createElement("img",{src:"./img/icons/dashboard-icon.png",alt:"Dashboard",title:"Dashboard"}),o.a.createElement("h6",null,"Dashboard"),o.a.createElement("input",{type:"hidden",name:"nav",value:"Dashboard",ref:this.navButtonRef}))),o.a.createElement("a",{href:"/#",onClick:this.onLocations},o.a.createElement("div",{id:"highlight-locations",className:"nav-area ".concat("Locations"===this.props.highlight?"highlight":"no-highlight")},o.a.createElement("img",{src:"./img/icons/locations-icon.png",alt:"Locations",title:"Locations"}),o.a.createElement("h6",null,"Locations"),o.a.createElement("input",{type:"hidden",name:"nav",value:"Locations",ref:this.navButtonRef}))),o.a.createElement("a",{href:"/#",onClick:this.onUsers},o.a.createElement("div",{id:"highlight-users",className:"nav-area ".concat("Users"===this.props.highlight?"highlight":"no-highlight")},o.a.createElement("img",{src:"./img/icons/users-icon.png",alt:"Users",title:"Users"}),o.a.createElement("h6",null,"Users"),o.a.createElement("input",{type:"hidden",name:"nav",value:"Users",ref:this.navButtonRef}))))}}]),t}(o.a.Component)),Wt=(a(277),a(278),a(279),function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.details,t=e.location_id,a=e.long_name,n=e.canvas_image,r=null;return r="undefined"!==typeof n&&""!==n&&null!==n?o.a.createElement("img",{src:n,alt:a,title:a}):o.a.createElement("p",null,"No image to preview"),o.a.createElement("section",{className:"location-list"},o.a.createElement("h4",null,o.a.createElement("a",{href:"/design/".concat(t)},a)),o.a.createElement("a",{href:"/design/".concat(t)},r))}}]),t}(o.a.Component)),Zt=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("main",{className:"dashboard-container"},Object.keys(this.props.locations).map((function(t){return o.a.createElement(Wt,{key:t,id:t,details:e.props.locations[t]})})))}}]),t}(o.a.Component),$t=(a(280),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={uploadImage:{location_image_data:{},location_image_name:"",location_id:null},imagePreviewURL:""},a.onImport=function(e){var t=new FileReader,n=e.target.files[0],o=n.name.split("."),r={location_image_name:a.props.details.long_name+"."+o[o.length-1],location_image_data:null,location_id:a.props.details.location_id};console.log("readDataAsUrl: ",r.location_image_data),t.onload=function(e){r.location_image_data=e.target.result,a.setState({uploadImage:r})},t.readAsDataURL(n)},a.onSubmit=function(){a.state.uploadImage&&a.props.handleImportImage(a.state.uploadImage)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(U.a,{className:"mb-3 wl-100"},o.a.createElement("input",{className:"btnImport btnImport-secondary",type:"file",accept:"image/*",onChange:this.onImport}),o.a.createElement(U.a.Append,null,o.a.createElement(k.a,{variant:"outline-secondary",type:"submit",onClick:this.onSubmit,disabled:!this.state.uploadImage},"upload"))))}}]),t}(o.a.Component)),Kt=a(296);a(281);function Qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ea=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={showAddModal:!1,showDeleteModal:!1,showUpdateModal:!1,currentLocation:null,disabled:!1,updateLocationDropdown:null,image:null,uploadImagePreview:null},a.checkForChildren=function(e){},a.onClose=function(){a.setState({showAddModal:!1,showDeleteModal:!1,showUpdateModal:!1,currentLocation:null})},a.onAddOpen=function(){a.setState({showAddModal:!0,showDeleteModal:!1,showUpdateModal:!1,currentLocation:null})},a.onUpdateOpen=function(){a.setState({showAddModal:!1,showDeleteModal:!1,showUpdateModal:!0,currentLocation:{location_id:a.props.details.location_id,short_name:a.props.details.short_name,long_name:a.props.details.long_name,description:a.props.details.description}})},a.onDeleteOpen=function(e){console.log("deleting location..."),a.props.handleDeleteLocation(e)},a.handleImportImage=function(e){a.props.handleImportImage(e)},a.handleImagePreview=function(e){console.log("handleImagePreview: ",a.state.uploadImagePreview),(new FileReader).onloadend=function(){a.setState({uploadImagePreview:e})}},a.onSelect=function(e){console.log("e: ",e),a.setState({updateLocationDropdown:null})},a.onCreate=function(){var e={latitude:0,address_id:a.props.details.address_id,description:a.state.currentLocation.description,min_x_coordinate:0,max_x_coordinate:0,active:!1,long_name:a.state.currentLocation.long_name,location_type_id:a.props.details.location_type_id,scale_ft:1,short_name:a.state.currentLocation.short_name,primary_object_id:1,min_y_coordinate:0,max_y_coordinate:0,longitude:0};a.props.handleCreateLocation(e,a.props.details.location_id),a.onClose()},a.onUpdate=function(e){var t={location_id:a.state.currentLocation.location_id,description:a.state.currentLocation.description,long_name:a.state.currentLocation.long_name,short_name:a.state.currentLocation.short_name};a.props.handleUpdateLocation(t),a.onClose()},a.onChange=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state.currentLocation,Object(y.a)({},e.currentTarget.name,e.currentTarget.value));a.setState({currentLocation:t})},a.onMouseHover=function(){a.props.handleHover(a.props.id)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.details,a=t.location_id,n=t.long_name,r=t.short_name,l=t.description,c=t.canvas_image;this.checkForChildren(a);var s=null;return s=c?o.a.createElement(Kt.a,{src:c,alt:n,title:n,thumbnail:!0}):o.a.createElement("p",null,"No image Uploaded"),o.a.createElement("ul",{className:"ul-location-list"},o.a.createElement("a",{href:"/design/".concat(a)},o.a.createElement("li",{onMouseOver:this.onMouseHover},n)),o.a.createElement("li",null,o.a.createElement(P.a,{variant:"outline-secondary",title:"Action",id:"input-group-dropdown-2"},o.a.createElement(T.a.Item,{onClick:this.onUpdateOpen},"edit this location"),o.a.createElement(T.a.Item,{disabled:this.state.disabled,onClick:function(t){window.confirm("By deleting this location, you will be deleting any objects associated with this location. Are you sure you want to delete this location ("+n+")?")&&e.onDeleteOpen(a)}},"delete this location"),o.a.createElement(T.a.Divider,null),o.a.createElement(T.a.Item,{href:"/design/".concat(a)},"map this location"),o.a.createElement(T.a.Divider,null),o.a.createElement(T.a.Item,{onClick:this.onAddOpen},"add new sub-location"))),o.a.createElement(L.a,{show:this.state.showAddModal,onHide:this.onClose},o.a.createElement(L.a.Header,{closeButton:!0},o.a.createElement(L.a.Title,null,"new location for",o.a.createElement("br",null),o.a.createElement("b",null,n))),o.a.createElement(L.a.Body,null,o.a.createElement("label",{htmlFor:"long_name"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Long Name")),o.a.createElement(x.a,{placeholder:"enter long name","aria-label":"long_name","aria-describedby":"basic-addon1",name:"long_name",defaultValue:"",onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"short_name"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Short Name")),o.a.createElement(x.a,{placeholder:"enter short name","aria-label":"short_name","aria-describedby":"basic-addon1",name:"short_name",defaultValue:"",onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"description"},o.a.createElement(U.a,{className:"mb-3 wl-100"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Description")),o.a.createElement(x.a,{placeholder:"enter description","aria-label":"description","aria-describedby":"basic-addon1",name:"description",defaultValue:"",onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"canvas_image"},o.a.createElement(U.a,{className:"mb-3 wl-100"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Import Image")),o.a.createElement(x.a,{placeholder:"feature coming soon!","aria-label":"canvas_image","aria-describedby":"basic-addon1",name:"canvas_image",defaultValue:"",readOnly:"readonly"}),o.a.createElement(U.a.Append,null,o.a.createElement(k.a,{variant:"outline-secondary"},"import")))),o.a.createElement("label",{htmlFor:"location_type_id"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(P.a,{as:U.a.Prepend,variant:"outline-secondary",title:"Location Type",id:"input-group-dropdown-1"},o.a.createElement(T.a.Item,null,"Building"),o.a.createElement(T.a.Item,null,"Room"),o.a.createElement(T.a.Item,null,"Hallway"))))),o.a.createElement(L.a.Footer,null,o.a.createElement(k.a,{onClick:this.onClose},"Close"),o.a.createElement(k.a,{onClick:this.onCreate},"Create"))),o.a.createElement(L.a,{show:this.state.showUpdateModal,onHide:this.onClose},o.a.createElement(L.a.Header,{closeButton:!0},o.a.createElement(L.a.Title,null,"Update Location")),o.a.createElement(L.a.Body,null,o.a.createElement("label",{htmlFor:"long_name"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Long Name")),o.a.createElement(x.a,{placeholder:"enter long name","aria-label":"long_name","aria-describedby":"basic-addon1",name:"long_name",defaultValue:n,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"short_name"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Short Name")),o.a.createElement(x.a,{placeholder:"enter short name","aria-label":"short_name","aria-describedby":"basic-addon1",name:"short_name",defaultValue:r,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"description"},o.a.createElement(U.a,{className:"mb-3 wl-100"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Description")),o.a.createElement(x.a,{placeholder:"enter description","aria-label":"description","aria-describedby":"basic-addon1",name:"description",defaultValue:l,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"location_type_id"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(P.a,{as:U.a.Prepend,variant:"outline-secondary",title:"Location Type",id:"input-group-dropdown-1"},o.a.createElement(T.a.Item,null,"Building"),o.a.createElement(T.a.Item,null,"Room"),o.a.createElement(T.a.Item,null,"Hallway")),o.a.createElement(x.a,{"aria-describedby":"basic-addon1",defaultValue:"test"}))),o.a.createElement("label",{htmlFor:"canvas_image"},o.a.createElement($t,{details:this.props.details,onImport:this.onImport,handleImportImage:this.handleImportImage,handleImagePreview:this.handleImagePreview})),o.a.createElement("div",{className:"imagePreview"},s)),o.a.createElement(L.a.Footer,null,o.a.createElement(k.a,{onClick:this.onClose},"Close"),o.a.createElement(k.a,{onClick:this.onUpdate},"Update"))))}}]),t}(o.a.Component),ta=(a(282),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={showModal:!1,isHover:!1,showImage:!1,showDetails:!1,index:-1},a.onClose=function(){a.setState({showModal:!1})},a.onOpen=function(){a.setState({showModal:!0})},a.handleHover=function(e){a.setState({isHover:!0,showImage:!0,showDetails:!0,index:e})},a.handleCreateLocation=function(e,t){a.setState({showModal:!1,isHover:!1,showImage:!1,showDetails:!1,index:-1}),a.props.handleCreateLocation(e,t)},a.handleUpdateLocation=function(e){a.setState({showModal:!1,isHover:!1,showImage:!1,showDetails:!1,index:-1}),a.props.handleUpdateLocation(e)},a.handleDeleteLocation=function(e){a.props.handleDeleteLocation(e)},a.handleImportImage=function(e){a.props.handleImportImage(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=null;return t=this.state.index>-1&&"undefined"!==typeof this.props.locations[this.state.index]&&""!==this.props.locations[this.state.index].canvas_image&&null!==this.props.locations[this.state.index].canvas_image?o.a.createElement("img",{src:this.props.locations[this.state.index].canvas_image,alt:this.props.locations[this.state.index].long_name,title:this.props.locations[this.state.index].long_name}):o.a.createElement("p",null,"No image to preview"),o.a.createElement("main",{className:"locations-container"},o.a.createElement("section",{className:"location-list"},o.a.createElement("h4",null,"Locations"),o.a.createElement("div",null,Object.keys(this.props.locations).map((function(t){return o.a.createElement(ea,{key:t,id:t,details:e.props.locations[t],hover:e.state.isHover,handleHover:e.handleHover,handleCreateLocation:e.handleCreateLocation,handleUpdateLocation:e.handleUpdateLocation,handleDeleteLocation:e.handleDeleteLocation,handleImportImage:e.handleImportImage})})))),o.a.createElement("section",{className:"location-view"},o.a.createElement("h4",null,"Locations View"),this.state.showImage&&t),o.a.createElement("section",{className:"location-details"},o.a.createElement("h4",null,"Locations Details"),o.a.createElement("ul",{className:"location-detail"},o.a.createElement("li",null,"Name:"),this.state.showImage&&o.a.createElement("li",null,this.props.locations[this.state.index].long_name)),o.a.createElement("ul",{className:"location-detail"},o.a.createElement("li",null,"Nickname:"),this.state.showImage&&o.a.createElement("li",null,this.props.locations[this.state.index].short_name)),o.a.createElement("ul",{className:"location-detail"},o.a.createElement("li",null,"Description:"),this.state.showImage&&o.a.createElement("li",null,this.props.locations[this.state.index].description))))}}]),t}(o.a.Component)),aa=(a(283),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={showAddModal:!1,showDeleteModal:!1,showUpdateModal:!1},a.onUpdateOpen=function(e){console.log("Updating user's information...")},a.onDeleteOpen=function(e){console.log("Removing Admin Privileges for user id: ",e)},a.onMouseHover=function(){a.props.handleHover(a.props.id)},a.onClose=function(){a.setState({showAddModal:!1,showDeleteModal:!1,showUpdateModal:!1})},a.onAddOpen=function(){a.setState({showAddModal:!0,showUpdateModal:!1,showDeleteModal:!1})},a.onUpdateOpen=function(){a.setState({showAddModal:!1,showUpdateModal:!0,showDeleteModal:!1})},a.onDeleteOpen=function(){a.setState({showAddModal:!1,showUpdateModal:!1,showDeleteModal:!0})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.subUser,a=t.user_id,n=t.first_name,r=t.last_name,l=t.username,c=t.email;return o.a.createElement("ul",{className:"users-list"},o.a.createElement("a",{href:"#/"},o.a.createElement("li",{onMouseOver:this.onMouseHover},n," ",r)),o.a.createElement("li",null,o.a.createElement(P.a,{variant:"outline-secondary",title:"Action",id:"input-group-dropdown-2"},o.a.createElement(T.a.Item,{onClick:this.onUpdateOpen},"edit this user"),o.a.createElement(T.a.Divider,null),o.a.createElement(T.a.Item,{disabled:"true",onClick:function(t){window.confirm("Are you sure that you want to remove admin privileges for '"+n+" "+r+"'?")&&e.onRemoveOpen(a)}},"remove admin privileges"))),o.a.createElement(L.a,{show:this.state.showUpdateModal,onHide:this.onClose},o.a.createElement(L.a.Header,{closeButton:!0},o.a.createElement(L.a.Title,null,o.a.createElement("b",null,l))),o.a.createElement(L.a.Body,null,o.a.createElement("label",{htmlFor:"first_name"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"First Name")),o.a.createElement(x.a,{placeholder:"enter first name","aria-label":"first_name","aria-describedby":"basic-addon1",name:"first_name",defaultValue:n,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"last_name"},o.a.createElement(U.a,{className:"mb-3"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Last Name")),o.a.createElement(x.a,{placeholder:"enter last name","aria-label":"last_name","aria-describedby":"basic-addon1",name:"last_name",defaultValue:r,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"email"},o.a.createElement(U.a,{className:"mb-3 wl-100"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Email")),o.a.createElement(x.a,{placeholder:"enter email","aria-label":"email","aria-describedby":"basic-addon1",name:"email",defaultValue:c,onChange:this.onChange}))),o.a.createElement("label",{htmlFor:"username"},o.a.createElement(U.a,{className:"mb-3 wl-100"},o.a.createElement(U.a.Prepend,null,o.a.createElement(U.a.Text,{id:"basic-addon1"},"Username")),o.a.createElement(x.a,{placeholder:"enter username","aria-label":"username","aria-describedby":"basic-addon1",name:"username",defaultValue:l,onChange:this.onChange})))),o.a.createElement(L.a.Footer,null,o.a.createElement(k.a,{onClick:this.onClose},"Close"),o.a.createElement(k.a,{onClick:this.onUpdate,disabled:!0},"Update"))))}}]),t}(o.a.Component)),na=(a(284),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isHover:!1,showUser:!1,showDetails:!1,index:-1},a.handleHover=function(e){a.setState({isHover:!0,showUser:!0,showDetails:!0,index:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("main",{className:"users-container"},o.a.createElement("section",{className:"users-list-area"},o.a.createElement("h4",null,"Users List"),o.a.createElement("div",null,Object.keys(this.props.subUsers).map((function(t){return o.a.createElement(aa,{key:t,id:t,subUser:e.props.subUsers[t],hover:e.state.isHover,handleHover:e.handleHover,handleCreateUser:e.handleCreateUser,handleUpdateUser:e.handleUpdateUser,handleDeleteUser:e.handleDeleteUser})})))),o.a.createElement("section",{className:"user-details"},o.a.createElement("h4",null,"User Details"),o.a.createElement("ul",{className:"user-detail"},o.a.createElement("li",null,"First Name:"),this.state.showUser&&o.a.createElement("li",null,this.props.subUsers[this.state.index].first_name)),o.a.createElement("ul",{className:"user-detail"},o.a.createElement("li",null,"Last Name:"),this.state.showUser&&o.a.createElement("li",null,this.props.subUsers[this.state.index].last_name)),o.a.createElement("ul",{className:"user-detail"},o.a.createElement("li",null,"Email:"),this.state.showUser&&o.a.createElement("li",null,this.props.subUsers[this.state.index].email)),o.a.createElement("ul",{className:"user-detail"},o.a.createElement("li",null,"Username:"),this.state.showUser&&o.a.createElement("li",null,this.props.subUsers[this.state.index].username))))}}]),t}(o.a.Component)),oa=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleCreateLocation=function(e,t){a.props.handleCreateLocation(e,t)},a.handleUpdateLocation=function(e){a.props.handleUpdateLocation(e)},a.handleDeleteLocation=function(e){a.props.handleDeleteLocation(e)},a.handleImportImage=function(e){a.props.handleImportImage(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return"Locations"===this.props.page?o.a.createElement(ta,{locations:this.props.locations,handleCreateLocation:this.handleCreateLocation,handleUpdateLocation:this.handleUpdateLocation,handleDeleteLocation:this.handleDeleteLocation,handleImportImage:this.handleImportImage}):"Users"===this.props.page?o.a.createElement(na,{subUsers:this.props.subUsers}):o.a.createElement(Zt,{locations:this.props.locations})}}]),t}(o.a.Component),ra=(a(285),function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"logout",value:function(){localStorage.removeItem("admin"),window.location.reload()}},{key:"render",value:function(){return o.a.createElement("footer",{onClick:this.logout},o.a.createElement("img",{src:"./img/icons/logout-icon.png",alt:"Logout",title:"Logout"}),o.a.createElement("h6",null,"Logout"))}}]),t}(o.a.Component));a(286);function la(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ca(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?la(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):la(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var sa=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={admin:JSON.parse(localStorage.getItem("admin"))||[],nav:"Dashboard",locations:{},uploadImage:{},subUsers:{}},a.getSubUsers=function(e,t){fetch(_.api.invokeUrl+"/user/sub/"+t,{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){a.setState({subUsers:e.body.data})}))},a.onLogin=function(e){a.setState({admin:{username:e.username,password:e.password,email:e.attributes.email,first_name:2===e.attributes.name.split(" ").length?e.attributes.name.split(" ")[0]:"",last_name:2===e.attributes.name.split(" ").length?e.attributes.name.split(" ")[1]:"",role:"Admin"}},(function(){localStorage.setItem("admin",JSON.stringify(a.state.admin))}))},a.onNavSelection=function(e){a.setState({nav:e})},a.handleCreateLocation=function(e,t){console.log("handleCreateLocation: ",e);var n=_.api.invokeUrl+"/location/new",o=_.api.headers,r=JSON.stringify(e);fetch(n,{method:"POST",headers:o,body:r}).then((function(e){if(e.ok)return console.log("response is ok"),e.json();throw Error("Request rejected with status ".concat(e.status))})).then((function(e){console.log("App.js -> result: ",e),a.setState({locations:[].concat(Object(w.a)(a.state.locations),[ca({},e.body.data[0])])})}))},a.handleUpdateLocation=function(e){var t=_.api.headers,n=JSON.stringify(e),o=_.api.invokeUrl+"/location/update";fetch(o,{method:"POST",headers:t,body:n}).then((function(e){if(e.ok)return e.json();throw Error("Request rejected with status ".concat(e.status))})).catch(console.error),a.setState((function(t){return a.state.locations.map((function(t){return t.location_id===e.location_id?(t.short_name=e.short_name,t.long_name=e.long_name,t.description=e.description,t):t}))}))},a.handleDeleteLocation=function(e){console.log("App.js's handleDeleteLocation: deleting location ",e);var t=_.api.headers,n=_.api.invokeUrl+"/location/delete/"+e;fetch(n,{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){var n=a.state.locations.filter((function(t){return t.location_id!==e}));a.setState({locations:n})}))},a.handleImportImage=function(e){console.log("App.js's handleImportImage (uploadImage): ",e);var t=_.api.headers;fetch(_.api.invokeUrl+"/location/image",{method:"POST",headers:t,body:e}).then((function(e){return e.json()})).then((function(e){console.log("upload succesful! result: ",e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=_.api.headers;fetch(_.api.invokeUrl+"/locations",{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(t){e.setState({locations:t.body.data})})),this.getSubUsers(t,10)}},{key:"render",value:function(){return h.a.currentSession().then((function(e){})).catch((function(e){return console.log(e)})),this.state.admin&&0!==this.state.admin.length?o.a.createElement("div",{className:"container-loggIn"},o.a.createElement(Xt,null),o.a.createElement(Jt,{profile:this.state.admin}),o.a.createElement(qt,{onNavSelection:this.onNavSelection,highlight:this.state.nav}),o.a.createElement(oa,{page:this.state.nav,locations:this.state.locations,subUsers:this.state.subUsers,handleCreateLocation:this.handleCreateLocation,handleUpdateLocation:this.handleUpdateLocation,handleDeleteLocation:this.handleDeleteLocation,handleImportImage:this.handleImportImage}),o.a.createElement(ra,null)):o.a.createElement(b,{onLogin:this.onLogin})}}]),t}(o.a.Component),ia=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(k.a,null," Export ")}}]),t}(o.a.Component),da=function(){return o.a.createElement(l.a,null,o.a.createElement(c.c,null,o.a.createElement(c.a,{exact:!0,path:"/",component:sa}),o.a.createElement(c.a,{path:"/forgot",component:p}),o.a.createElement(c.a,{path:"/reset",component:E}),o.a.createElement(c.a,{path:"/register",component:D}),o.a.createElement(c.a,{path:"/design/:location_id",component:Vt}),o.a.createElement(c.a,{path:"/design",component:Vt}),o.a.createElement(c.a,{path:"/location-objects/:location_id",component:Yt}),o.a.createElement(c.a,{path:"/import",component:$t}),o.a.createElement(c.a,{path:"/export",component:ia}),o.a.createElement(c.a,{component:b})))};a(289),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(r.render)(o.a.createElement(da,null),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},85:function(e,t){}},[[135,1,2]]]);
//# sourceMappingURL=main.54343953.chunk.js.map